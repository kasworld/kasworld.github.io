<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>한성 gboard 8.9의 기술적 문제  | 취미로 프로그래밍을 하는 사람입니다.</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="한성 gboard 8.9를 쓰다보면 이상하게도 H/W 스펙에 비해서 너무 느리다는 느낌을 받는 경우가 많습니다.
프로그램 전환간에 랙이 생기는 경우도 많고 게임을(심슨) 하다가도 터치에 반응하는 스크롤이 멈짓 멈짓하는 것을 많이 느낄 수 있지요. 처음에는 백그라운드 프로세스가 너무 많이 있나 싶어서 거의 대부분을 제거 해봤습니다. 커스텀 펌웨어도 여러가지로 바뀌 봤구요.
하지만 쓰면 쓸수록 이문제는 S/W 문제 라기보다는 H/W 문제인것 같은 생각이 들었습니다.
프로세스 모니터를 사용해서 cpu 사용량을 보면 rknand_buffer 프로세스가 비정상적으로 cpu를 많이 사용하는 것을 볼 수 있었습니다.">
    <meta name="generator" content="Hugo 0.120.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    
    
    
      

    

    
    
    <meta property="og:title" content="한성 gboard 8.9의 기술적 문제 " />
<meta property="og:description" content="한성 gboard 8.9를 쓰다보면 이상하게도 H/W 스펙에 비해서 너무 느리다는 느낌을 받는 경우가 많습니다.
프로그램 전환간에 랙이 생기는 경우도 많고 게임을(심슨) 하다가도 터치에 반응하는 스크롤이 멈짓 멈짓하는 것을 많이 느낄 수 있지요. 처음에는 백그라운드 프로세스가 너무 많이 있나 싶어서 거의 대부분을 제거 해봤습니다. 커스텀 펌웨어도 여러가지로 바뀌 봤구요.
하지만 쓰면 쓸수록 이문제는 S/W 문제 라기보다는 H/W 문제인것 같은 생각이 들었습니다.
프로세스 모니터를 사용해서 cpu 사용량을 보면 rknand_buffer 프로세스가 비정상적으로 cpu를 많이 사용하는 것을 볼 수 있었습니다." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://kasworld.github.io/posts/2013-10-27-%ED%95%9C%EC%84%B1gboard89%EC%9D%98%EA%B8%B0%EC%88%A0%EC%A0%81%EB%AC%B8%EC%A0%9C/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2013-10-27T11:27:00+09:00" />
<meta property="article:modified_time" content="2013-10-27T11:27:00+09:00" />

<meta itemprop="name" content="한성 gboard 8.9의 기술적 문제 ">
<meta itemprop="description" content="한성 gboard 8.9를 쓰다보면 이상하게도 H/W 스펙에 비해서 너무 느리다는 느낌을 받는 경우가 많습니다.
프로그램 전환간에 랙이 생기는 경우도 많고 게임을(심슨) 하다가도 터치에 반응하는 스크롤이 멈짓 멈짓하는 것을 많이 느낄 수 있지요. 처음에는 백그라운드 프로세스가 너무 많이 있나 싶어서 거의 대부분을 제거 해봤습니다. 커스텀 펌웨어도 여러가지로 바뀌 봤구요.
하지만 쓰면 쓸수록 이문제는 S/W 문제 라기보다는 H/W 문제인것 같은 생각이 들었습니다.
프로세스 모니터를 사용해서 cpu 사용량을 보면 rknand_buffer 프로세스가 비정상적으로 cpu를 많이 사용하는 것을 볼 수 있었습니다."><meta itemprop="datePublished" content="2013-10-27T11:27:00+09:00" />
<meta itemprop="dateModified" content="2013-10-27T11:27:00+09:00" />
<meta itemprop="wordCount" content="662">
<meta itemprop="keywords" content="한성,리눅스,커널,gboard,안드로이드," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="한성 gboard 8.9의 기술적 문제 "/>
<meta name="twitter:description" content="한성 gboard 8.9를 쓰다보면 이상하게도 H/W 스펙에 비해서 너무 느리다는 느낌을 받는 경우가 많습니다.
프로그램 전환간에 랙이 생기는 경우도 많고 게임을(심슨) 하다가도 터치에 반응하는 스크롤이 멈짓 멈짓하는 것을 많이 느낄 수 있지요. 처음에는 백그라운드 프로세스가 너무 많이 있나 싶어서 거의 대부분을 제거 해봤습니다. 커스텀 펌웨어도 여러가지로 바뀌 봤구요.
하지만 쓰면 쓸수록 이문제는 S/W 문제 라기보다는 H/W 문제인것 같은 생각이 들었습니다.
프로세스 모니터를 사용해서 cpu 사용량을 보면 rknand_buffer 프로세스가 비정상적으로 cpu를 많이 사용하는 것을 볼 수 있었습니다."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        취미로 프로그래밍을 하는 사람입니다.
      
    </a>
    <div class="flex-l items-center">
      

      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1">한성 gboard 8.9의 기술적 문제 </h1>
      
      <p class="tracked">
        By <strong>SeukWon Kang</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2013-10-27T11:27:00+09:00">October 27, 2013</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>한성 gboard 8.9를 쓰다보면 이상하게도  H/W 스펙에 비해서 너무 느리다는
느낌을 받는 경우가 많습니다.</p>
<p>프로그램 전환간에 랙이 생기는 경우도 많고 게임을(심슨) 하다가도 터치에
반응하는 스크롤이 멈짓 멈짓하는 것을 많이 느낄 수 있지요. </p>
<p>처음에는 백그라운드 프로세스가 너무 많이 있나 싶어서 거의 대부분을 제거
해봤습니다. </p>
<p>커스텀 펌웨어도 여러가지로 바뀌 봤구요.</p>
<p>하지만 쓰면 쓸수록 이문제는 S/W 문제 라기보다는 H/W 문제인것 같은 생각이
들었습니다.</p>
<p>프로세스 모니터를 사용해서 cpu 사용량을 보면 rknand_buffer 프로세스가
비정상적으로 cpu를 많이 사용하는 것을 볼 수 있었습니다. </p>
<p>아마 내장 flash disk 가 너무 느려서 그런가보다 하고 백그라운드에서 disk
access를 할 것으로 생각되는 프로세스들을 죽이고 uninstall 했습니다.. </p>
<p>( search 관련 프로세스들이 disk를 계속 모니터링합니다. 겔러리 도
그렇구요.  새 파일이 생성되면 바로 반영하기 위해서지요. )</p>
<p>좀 나아지긴 하지만 그래도 여전히 버벅이더군요. </p>
<p>( ext4 로 파일 시스템을 바꿔볼까 하는  생각도 잠깐 했지만 , 시스템
파티션은 이미 ext4입니다.) </p>
<p>그래서 아예 리눅스 커널 부트 로그를 들여다 봤습니다. ^^</p>
<p>/proc/last_log 파일입니다. </p>
<p>파일내용을 보면서 알게된 몇가지 사실을 적습니다.</p>
<p>커널자체는 정상적인 smp preemptive 커널입니다. 문제가 될 소지는 별로
없지요. </p>
<p>멀티 프로세서 지원 smp, 강제 스케줄링가능 preemptive 기능도 다 최신
기능입니다. </p>
<p>총 ram 2048Mbyte중 시스템이 예약/확보 하는 양은 </p>
<p>memory reserve: Memory(base:0x76800000 size:512M) reserved for &lt;ump
buf&gt;</p>
<p>memory reserve: Memory(base:0x71800000 size:80M) reserved for
&lt;ion&gt;</p>
<p>memory reserve: Memory(base:0x6fd00000 size:27M) reserved for &lt;fb0
buf&gt;</p>
<p>memory reserve: Memory(base:0x6f700000 size:6M) reserved for
&lt;camera_ipp_mem&gt;</p>
<p>memory reserve: Total reserved 625M                                    
         </p>
<p>입니다. </p>
<p>512M ump buf는 아마도 video ram 영역일 듯 합니다. 1920x1200의 화면을
3d가속하기위해서 최소한 이정도는 필요하겠지요. </p>
<p>ion은 뭔지 모르겠고 fb0는 화면 표시용 버퍼 입니다. 1920x1200x4 byte의
3배 정도를 확보하는군요. 더블 버퍼링이나 트리플 버퍼링하기 위한 공간일듯
합니다.. </p>
<p>camera_ipp_mem는 딱봐도 카메라용 io buf같습니다. </p>
<p>그래서 총 625Mbyte가 시스템/io를 위해서 예약 됩니다. </p>
<p>이 공간은 OS/안드로이드 를 위한 공간이 포함되어 있지 않습니다. </p>
<p>즉 OS가 추가로 메모리를 더 사용하게 될테니 부팅후 2048Mbyte 의 ram
중에서 1000여 Mbyte의 여유 메모리가 남는 것은 지극히 정상적입니다. </p>
<p>계속 보면 ddr3 controller를 초기화 하는 것도 보이고 cpu cache를 초기화
하는 것도 보입니다. </p>
<p>&lt;6&gt;[    0.000000] l2x0: 16 ways, CACHE_ID 0x4100c0c8, AUX_CTRL
0x76050001, Cache size: 524288 B      </p>
<p>cpu cache 는 512k 인것 같군요. </p>
<p>그 다음에 놀라운 사실을 알수 있는데 </p>
<p>DDR DEBUG: <strong><!-- raw HTML omitted -->Bus Width=32<!-- raw HTML omitted --></strong> Col=10
Bank=8 Row=16 CS=1 Total Capability=2048MB  </p>
<p>DDR DEBUG: init success!!! freq=300MHz  </p>
<p>을 보면 </p>
<p>메모리 io bit가 32bit 밖에 안된다는 사실을 알 수 있습니다. </p>
<p>뭐가 문제지? 하고 생각하는 사람을 위해서 잠시 설명하면 </p>
<p>우리가 사용하는 pc는 메모리 버스 넓이가 64x2=128 bit이며 이것은 gpu가
사용하는 video 대역을 제외하고 란 점입니다. </p>
<p>한성 gboard 8.9는 cpu+gpu가 사용할 메모리와의 통신 을 위한 길의 넓이가
32bit 란이야기이며</p>
<p>이 좁은 길을 통해서 1.6Ghzx4의 cpu와 mali400 gpu가 작업을 해야 한다는
이야기입니다. </p>
<p>그 메모리 버스를 통해서 1920x1200의 그래픽 처리와 4개의 cpu가 실행할
프로그램/데이터가 오가야 한다는 거지요. </p>
<p>2013년에 시장에 팔리는 vga중 가장 하위 모델이라고 해도 64bit 정도의
메모리 버스 크기를 가지고 있으며 와 별도로  cpu는 128bit 의 cpu전용의
버스를 가지고 있습니다. </p>
<p>참고로 ipad는 128bit의 메모리버스(cpu/gpu공용의) 를 가지고 있습니다. </p>
<p>그리고 바로 그다음 라인은 </p>
<p>ddr3 ram의 클럭이 300mhz로 초기화 된다는 것을 알 수 있습니다. </p>
<p>메모리 전송속도는 32bit x 300mhz x 2 = 2400Mbyte /sec 정도의 전송률을
보이겠군요. </p>
<p>다행히 뒤에 가면 </p>
<p>&lt;6&gt;[    6.067451] ddrfreq: verion 2.4 20130427</p>
<p>&lt;6&gt;[    6.067519] ddrfreq: normal 528MHz video 0MHz dualview
0MHz idle 0MHz suspend 198MHz reboot 300MHz</p>
<p>&lt;6&gt;[    6.069573] ddrfreq: change freq to 528 MHz when normal  
     </p>
<p>으로 초기화가 끝나면 528Mhz로 상승합니다. </p>
<p>그래도 cpu+gpu를 위한 메모리 대역폭은 </p>
<p>32bit(4byte) x 528Hhz x 2(ddr3) = 4.125Gbyte /sec 정도 입니다. </p>
<p>참고로 xbox 360 과 ps3 의 메모리 전송률 입니다. </p>
<!-- raw HTML omitted -->
<p>비록 발매된 시기는 많이 다르지만 (xbox 360, ps3는 2005년 경 ) xbox 360 ,
ps3 , gboard 8.9 모두 full hd의 화면을 제어해야 한다는 점에서 보면
gboard의 느린 속도의 문제는 memory sub system에 있었던 것 같습니다. </p>
<p>ps) 써놓고 보니 한성의 문제인 것 처럼 보이는데.. 
본문에 제가 쓴 글이 맞다면 
문제의 원인은 한성에 있는 것이 아니고 rk3188 soc 에 있는 것이며, 
다른 중국산 soc들이 더 낫다는 보장도 없습니다. 
그리고 현재 상태에서도 웹서핑하고, 글/만화/동영상보고 하는 데에는 아무런
문제가 없는 성능입니다. 
또 메모리 버스를 넓히면 보드 설계도 힘들어지고 제작 단가도 올라가니
rockchip사에서도 가격적인 부분에서 고민하다 내린 결정 일 것입니다. 
( 그러하기 때문에 후속 칩에서도 크게는 개선 되지 않을 가능성도 있습니다.
) 
위키피디아에 의하면 
<a href="http://en.wikipedia.org/wiki/Rockchip">http://en.wikipedia.org/wiki/Rockchip</a> 
후속 칩인 RK32xx는 듀얼 채널 이라고 하니 64bit 메모리 버스를
사용하겠군요.</p>
<ul class="pa0">
  
   <li class="list di">
     <a href="/tags/%ED%95%9C%EC%84%B1/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">한성</a>
   </li>
  
   <li class="list di">
     <a href="/tags/%EB%A6%AC%EB%88%85%EC%8A%A4/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">리눅스</a>
   </li>
  
   <li class="list di">
     <a href="/tags/%EC%BB%A4%EB%84%90/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">커널</a>
   </li>
  
   <li class="list di">
     <a href="/tags/gboard/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">gboard</a>
   </li>
  
   <li class="list di">
     <a href="/tags/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">안드로이드</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/posts/2013-08-24-%ED%95%9C%EC%84%B1gboard89%EC%97%90%EB%A6%AC%EB%88%85%EC%8A%A4%EB%A5%BC%EC%84%A4%EC%B9%98%ED%95%98%EA%B3%A0/">한성 gboard 8.9에 리눅스를 설치하고.</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/2013-08-17-gboard89%ED%95%9C%EB%8B%AC%EC%A2%80%EB%84%98%EA%B2%8C%EC%82%AC%EC%9A%A9%ED%95%9C%EC%86%8C%EA%B0%90/">gboard 8.9 한 달 좀 넘게 사용한 소감 </a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/2013-04-10-%ED%95%9C%EC%84%B1%EB%B3%B4%EC%8A%A4%EB%AA%AC%EC%8A%A4%ED%84%B077%EB%A6%AC%EB%88%85%EC%8A%A4%EC%82%BD%EC%A7%88%EA%B8%B0/">한성 보스몬스터 77 리눅스 삽질기. </a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/2010-02-23-%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C%EB%A5%BC%EA%B8%B0%EB%8B%A4%EB%A0%B8%EC%A7%80%EB%A7%8C%EB%AA%A8%ED%86%A0%EB%A1%9C%EC%9D%B4%EB%A5%BC%EC%82%AC%EC%A7%80%EC%95%8A%EC%9D%80%EC%9D%B4%EC%9C%A0/">안드로이드를 기다렸지만 모토로이를 사지 않은이유</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/2010-02-11-%EB%AA%A8%EB%91%90%EA%B0%80%EC%95%84%EC%9D%B4%ED%8F%B0%EC%9D%84%EC%99%B8%EC%B9%A0%EB%95%8C/">모두가 아이폰을 외칠때..</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/2013-09-28-%EC%97%91%EC%8A%A4%ED%8E%98%EB%A6%AC%EC%95%84%EB%A0%88%EC%9D%B4%EC%9D%98%ED%99%9C%EC%9A%A9%EC%9D%84%EC%9C%84%ED%95%B4%EC%B5%9C%EC%8B%A0%EC%A0%A4%EB%A6%AC%EB%B9%88%EC%9C%BC%EB%A1%9C%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8%EB%A5%BC%ED%96%88%EC%8A%B5%EB%8B%88%EB%8B%A4/">엑스페리아 레이의 활용을 위해 최신 젤리빈으로 업데이트를 했습니다. </a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/2013-06-01-%EB%A6%AC%EB%88%85%EC%8A%A4%EC%97%94%ED%8A%B8%EB%A1%9C%ED%94%BC/">리눅스 엔트로피?</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/2013-05-30-%EC%9A%B0%EB%B6%84%ED%88%ACsublimetext2%EC%97%90%EC%84%9C%ED%95%9C%EA%B8%80%EC%9D%84%EC%9E%85%EB%A0%A5%ED%95%98%EA%B8%B0/">우분투 sublime text2에서 한글을 입력하기. </a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/2013-04-27-%EC%9A%B0%EB%B6%84%ED%88%AC%EC%97%90%EC%84%9C%EC%84%9C%EB%B8%8C%EB%9D%BC%EC%9E%84%EC%97%90%EB%94%94%ED%84%B0%EB%A1%9Cgo%EA%B0%9C%EB%B0%9C%EC%9D%84%ED%95%98%EB%A0%A4%EB%8B%A4%EB%B3%B4%EB%8B%88/">우분투에서 서브라임 에디터로 go 개발을 하(려)다보니. </a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/2013-04-26-%EC%9A%B0%EB%B6%84%ED%88%AC%EC%A3%BC%EB%B6%84%ED%88%AC%EB%AF%BC%ED%8A%B8%EC%97%90%EC%84%9Cgui%EC%97%86%EC%9D%B4%ED%82%A4%EB%B3%B4%EB%93%9C%EC%98%B5%EC%85%98%EC%9D%84%EC%84%A4%EC%A0%95%ED%95%98%EB%8A%94%EB%B2%95/">우분투/주분투/민트 에서 GUI 없이 키보드 옵션을 설정하는 법 </a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/2013-04-04-%EC%9A%B0%EB%B6%84%ED%88%AC%EB%A6%AC%EB%88%85%EC%8A%A4%EB%AF%BC%ED%8A%B8%EC%97%90%EC%84%9C%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/">우분투/리눅스 민트에서 클라우드 스토리지 사용하기.</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/2013-03-19-postgresql%EC%82%BD%EC%A7%88%EA%B8%B0/">postgresql 삽질기;;</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/2013-02-15-%EB%A6%AC%EB%88%85%EC%8A%A4%EB%AF%BC%ED%8A%B814%EC%8B%9C%EB%82%98%EB%AA%AC%EC%9D%84%EC%84%A4%EC%B9%98%ED%96%88%EC%8A%B5%EB%8B%88%EB%8B%A4/">리눅스 민트 14 시나몬을 설치했습니다.</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/2013-01-20-sublimetext2%EC%97%90%EB%94%94%ED%84%B0%EB%A5%BC%EA%B5%AC%EC%9E%85%ED%96%88%EC%8A%B5%EB%8B%88%EB%8B%A4%EC%88%98%EC%A0%95%ED%96%88%EC%8A%B5%EB%8B%88%EB%8B%A4/">sublime text 2 에디터를 구입했습니다. - 수정했습니다.</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/2013-01-20-%EC%98%B5%ED%8B%B0%EC%9D%B4%EC%9D%B4%EA%B0%90%EC%83%81%EA%B8%B0%EC%82%AC%EC%9A%A9%EB%A3%A8%ED%8C%85%EA%B8%B0/">옵티이이 감상기(사용, 루팅기)</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://kasworld.github.io/" >
    &copy;  취미로 프로그래밍을 하는 사람입니다. 2023 
  </a>
    <div>
<div class="ananke-socials">
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
