<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>취미로 프로그래밍을 하는 사람입니다.</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.120.4">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    
    
    
      

    

    
    
      <link href="/posts/index.xml" rel="alternate" type="application/rss+xml" title="취미로 프로그래밍을 하는 사람입니다." />
      <link href="/posts/index.xml" rel="feed" type="application/rss+xml" title="취미로 프로그래밍을 하는 사람입니다." />
      
    
    
    <meta property="og:title" content="Posts" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://kasworld.github.io/posts/" />

<meta itemprop="name" content="Posts">
<meta itemprop="description" content=""><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content=""/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    

  <header>
    <div class="pb3-m pb6-l bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        취미로 프로그래밍을 하는 사람입니다.
      
    </a>
    <div class="flex-l items-center">
      

      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          Posts
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
  <article class="pa3 pa4-ns nested-copy-line-height">
    <section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray"></section>
    <section class="flex-ns flex-wrap justify-around mt5">
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2015-05-11-%EC%B5%9C%EA%B7%BC%EC%97%90%EB%B0%94%EB%80%90go%EC%96%B8%EC%96%B4%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%EC%9D%98%EC%8A%B5%EA%B4%80%EB%82%98%EB%A6%84%EB%8C%80%EB%A1%9C%EC%9D%98%EA%B7%9C%EC%B9%99%EB%93%A42/" class="link black dim">
        최근에 바뀐 go 언어 프로그래밍의 습관, 나름대로의 규칙들. #2
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      이전 글에 이어 지는 내용입니다. (http://kasw.blogspot.kr/2015/05/go.html)
가능한 작은 단위 까지도 각 struct를 독립 package화 하기 이것은 정말로 습관화하려고 노력하는 것입니다. package 이름을 struct 이름과 같게 하고 패키지내 파일 이름들을 ( 좀 규모가 되는 struct 인경우만 ) structnameattrib.go struct 의 정의와 New() 함수 , field 의 accessor 들을 정의 structname.go
struct 가 해야 하는 기능들을 정의 structname_test.go
go test 용 로 정하기
작은 규모의 struct인 경우는 상관 없지만 좀 큰 규모의 struct는 아무 생각없이 한 파일에 코드를 짜넣다 보면 1000라인이 넘어 가는 경우도 생기더군요.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2015-05-10-%EC%B5%9C%EA%B7%BC%EC%97%90%EB%B0%94%EB%80%90go%EC%96%B8%EC%96%B4%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%EC%9D%98%EC%8A%B5%EA%B4%80%EB%82%98%EB%A6%84%EB%8C%80%EB%A1%9C%EC%9D%98%EA%B7%9C%EC%B9%99%EB%93%A4/" class="link black dim">
        최근에 바뀐 go 언어 프로그래밍의 습관, 나름대로의 규칙들.
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      나름대로는 go 언어를 꽤 많이 쓴 편이라고 생각하고 있었습니다만
( go4game, goguelike 둘다 코드의 양도 있는 편이고 사용하는 기능도 tcp/ip, http, client, websocket 등 꽤 다양하게 사용합니다. )
최근에 google/gxui 코드를 보면서 이런저런 것들을 많이 생각하게 되었습니다. https://github.com/google/gxui
그 여파로 goguelike2에 이런 저런 refactoring을 시도 하게 되었는데. 그 중 적어 볼만한 것들을 적어 봅니다. (이 것이 정답이라고 말할수는 없겠지만 )
1. private interface , public interface 전에 interface에 대해 적은 적이 있는데 (http://kasw.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2015-05-09-goguelike2%EC%9D%98%EB%AA%87%EB%AA%87%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%EB%93%A4%EC%9E%91%EC%97%85%EC%A7%84%ED%96%89%EC%82%AC%ED%95%AD/" class="link black dim">
        goguelike2 의 몇몇 스크린 샷들. 작업 진행 사항. 
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      (거의) 재작성한 goguelike는 일단 goguelike2로 부르고 있습니다.
goguelike : version 0.x ~ goguelike2 : version 1.x ~
인셈이지요. 현재는 inventory 와 status effect(버프) 작업을 진행하고 있는데 ( 기존엔 장비와 장비 슬롯 은 있었지만 인벤토리는 없었습니다. )
진도가 잘 안나가는 관계로 기분전환삼아 작성하는 포스트 입니다. ;; 일단 실시간 서버모니터링 툴인 towerviewer 의 스샷들입니다. 최근 새로한 texture가 적용된 플레이맵 - observer mode라 시야 제한이 없는 view입니다. 층 전체가 보이는 map view
또다른 playmap
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2015-05-08-textureimagefile%EC%9D%84%EC%AA%BC%EA%B0%9C%EC%84%9C%EC%97%AC%EB%9F%AC%EA%B0%9C%EC%9D%98tilefile%EB%A1%9C%EB%A7%8C%EB%93%A4%EA%B3%A0%EC%8B%B6%EC%9D%84%EB%95%8C/" class="link black dim">
        texture image file을 쪼개서 여러개의 tile file로 만들고 싶을 때.
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      ImageMagick 을 사용하면 좋다.
&ndash; 끝 &ndash; 이라고 쓰고 말면 ( 미래의 나 로부터 ) 욕먹을테니&hellip;
goguelike &ldquo;client&rdquo; 용 tile image가 필요해서 Dungeon Crawl Stone Soup 의 http://crawl.develz.org/wordpress/
tile 들을 가져다 쓰고 있었습니다만. ( 라이선스도 자유 이용이라 좋더군요. )
역시 부족한 타일들이 좀 있어서 몇개는 되도 않는 손놀림으로 gimp를 사용해 어떻게 만들어 쓰고 있었습니다만 ..
역시 어설픈 관계로 구할수 있는 큰 크기의 texture들을 쪼개서 (32x32 png ) 만들어 보기로 하고 역시 gimp로 노가다를 하고 있자니 한숨만 나오고.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2015-05-05-%EB%AC%B4%EC%84%A0%EB%9E%9C%EC%9C%BC%EB%A1%9C%EC%97%B0%EA%B2%B0%EB%90%9C%EB%85%B8%ED%8A%B8%EB%B6%81%EC%9D%84%EC%84%9C%EB%B2%84%EB%A1%9C%EC%82%AC%EC%9A%A9%ED%95%A0%EB%95%8C/" class="link black dim">
        무선 랜으로 연결된 노트북을 서버로 사용할때 
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      개발환경을 통일 하기위해서 노트북을 서버로 사용하고 있습니다. 이렇게 하면 데스크탑에서 작업하다가 나갈일이 생겨도 서버로 sync를 하고 ( unison으로 작업 폴더를 싱크하고, 노트북에 gitlab 서버를 설치해 쓰고 있습니다. ) 노트북을 들고나가면 문제가 없게 되지요.
게다가 노트북은 ssd 라 조용하고 또 전기도 적게 먹으니 media 서버만 nas로 돌리면 작업데이터용 서버로는 최적인것 같습니다.
아무튼 이렇게 노트북을 서버로 쓰면서 유선lan으로 연결하면 ( giga bit lan이라 빠르긴 하지만 ) 선이 귀찮아 지기때문에 ( 전송할 데이터가 많은 경우만 연결하고 ) 보통때는 무선으로 연결하고 있습니다.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2015-04-25-%EC%98%A4%EB%9E%98%EB%90%9C%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B0%80%EC%A0%84%EC%9B%90%EC%9D%B4%EB%B0%94%EB%A1%9C%EB%93%A4%EC%96%B4%EC%98%A4%EC%A7%80%EC%95%8A%EB%8A%94%EA%B2%BD%EC%9A%B0/" class="link black dim">
        오래된 컴퓨터가 전원이 바로 들어 오지 않는 경우. 
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      집에서 사용하는 컴퓨터가 대략 1년 전부터 전원버튼을 눌러도 켜지는데 까지 시간이 걸리는 증상이 있었습니다.
(오해가 없도록 ) 정확히 말하면 전원 버튼을 눌러도 bios의 post가 바로 시작되는 것이 아니고 수십초(또는 수분) 정도의 시간이 지나야 (메인보드에 전원이 들어오면서 ) post가 시작되는 증상입니다.
저만 그런 것이 아니고 제 와이프가 사용하고 있는 (동일 구매 시점) 동일 사양의 기계에서도 같은 증상이 일어나고 있었습니다.
약 4년 전에 산 intel i2500 cpu + gigabyte p67a-ud3r-b3 인데 슬슬 수명이 다되 가는 것이겠거니 하고 포기 하고 있었습니다.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2015-04-21-mmo%EB%A5%BC%EB%A7%8C%EB%93%9C%EB%8A%94%EA%B2%83%EC%97%90%EB%A1%9C%EB%A7%9D%EC%9D%B4%EC%9E%88%EB%8B%A4%EB%A9%B4/" class="link black dim">
        MMO를 만드는 것에 로망이 있다면 .
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      세상을 만들고 그 세상의 규칙을 정하는 경험을 해볼수 있다는 점일 것입니다.
goguelike도 일단 MMO의 범주에 들어가기때문에 ( MMORLG - mmo RogueLike Game ^^ ) 그런 경험을 즐길수 있습니다.
그를 위해서 terrain을 만든는 map script도 만들고 그 안에서 살아갈 AI들도 만들고 있습니다만 .. 역시 글자(log)로만 봐서는 확 하고 느낌이 오지 않는 관계로
기존의 webinfo 페이지 이외에 실시간으로 서버내 상황을 볼수 있는 viewer를 만들었습니다.
최근에 만들었던 terrainviewer를 확장해서 terrain만이 아니고 그 속의 AO/PO 들까지 볼수 있게 확장 한것입니다.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2015-04-09-goguelike%EC%9D%98%EC%A7%80%ED%98%95%EC%83%9D%EC%84%B1%EB%B6%80%EB%B6%84%EC%9D%84%EC%99%84%EC%A0%84%EC%9E%AC%EC%9E%91%EC%97%85%ED%95%98%EA%B3%A0%EC%9E%88%EC%8A%B5%EB%8B%88%EB%8B%A4/" class="link black dim">
        goguelike의 지형 생성 부분을 완전 재작업 하고 있습니다. 
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      기존의 지형 시스템의 부족함이 느껴저서 새로 작업을 진행하고 있습니다.
기존과 같이 terrainscript+ random 을 사용해서 생성하는 것은 같으나 더 많은 구성 요소들과 더 정교한 로직을 사용하도록 바꿨습니다.
그랬더니 script만으로는 어떤 형태의 지형이 만들어 질지(+debug)상상하기 힘들어져서 간단한 terrain generation viewer를 만들었습니다..
오류가 발생했습니다. www.youtube.com에서 동영상을 시청하거나 브라우저에서 자바스크립트가 사용 중지된 경우 사용 설정하세요.
작업중인 동영상
그렇데 이런 구조라면 AI를 만드는 것이 더욱더 힘들어 질것 같습니다. (특히 client AI는 많이 힘들어 질듯 .
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2015-04-03-goguelike%EC%97%90%EB%8C%80%EB%9F%89%EC%9D%98%EC%88%98%EC%A0%95%EC%9D%84%EC%8B%9C%EB%8F%84%ED%95%98%EB%8B%A4%EA%B0%80/" class="link black dim">
        goguelike에 대량의 수정을 시도하다가.
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      말하자면 fork를 해서 작업을 시작할 정도로 대형 수정 작업을 진행하고 있었습니다만.
( 잠정적으론 goguelike2 가 될 것으로 예상하고 있습니다. )
습관적으로 *.a 파일을 지우기 위해 ctrl-a , shift-del 을 했다가 소스를 홀라당 날려 먹었습니다. ( pkg 폴더가 아니고 src 폴더더군요. ;; )
..
..
..
..
..
..
*.a 를 지우는 것은 gosublime 이 background build 해둔 package 파일들이 가끔 문제를 일으켜서 생긴 습관입니다만..
이것이 문제를 일으킬줄이야. ;;;
소스를 날려 먹은 것을 깨닿고 침착하게 git 에서 꺼내오려고 하니.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2015-03-25-go%EC%96%B8%EC%96%B4%EC%97%90%EC%84%9Cgoroutinegroup%EC%9D%84%EA%B0%99%EC%9D%B4%EC%A2%85%EB%A3%8C%EC%8B%9C%ED%82%A4%EA%B8%B0/" class="link black dim">
        go 언어에서 goroutine group을 같이 종료 시키기 
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      update 15-03-29) http://blog.labix.org/2011/10/09/death-of-goroutines-under-control 를 같이 보시는 것도 재밌을것 같습니다. 비슷한 고민을 다르게 해결한 경우라고나 할까요.
update) 페북에 올라온 의견을 읽다보니 이글의 설명이 부족한듯 합니다. 아래 상황은 같은 context를 공유하는 goroutine들 간에 종료 신호를 주고 받기위한 방법중 (아마도 )가장 가볍고 빠른 방법을 만들어본것입니다. 이 제한이 없다면 다른 무수한 방법들이 가능할것입니다. 당장 map + mutex를 사용해서도 동일한 효과를 볼수 있을껍니다. ( 크고 무겁겠지요 ^^ ) 여기서 context를 공유한다는 것은 runstate를 struct의 field로 만들고 만들어진 object를 공유하는 여러 goroutine을 생각하시면 됩니다.
    </div>
  </div>
</div>

        </div>
      
    </section>
    <ul class="pagination pagination-default">
      <li class="page-item">
        <a href="/posts/" aria-label="First" class="page-link" role="button"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/page/12/" aria-label="Previous" class="page-link" role="button"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/page/11/" aria-label="Page 11" class="page-link" role="button">11</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/12/" aria-label="Page 12" class="page-link" role="button">12</a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 13" class="page-link" role="button">13</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/14/" aria-label="Page 14" class="page-link" role="button">14</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/15/" aria-label="Page 15" class="page-link" role="button">15</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/14/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/page/30/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul></article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://kasworld.github.io/" >
    &copy;  취미로 프로그래밍을 하는 사람입니다. 2023 
  </a>
    <div>
<div class="ananke-socials">
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
